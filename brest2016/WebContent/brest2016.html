<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html ng-app="brest2016App">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Reservation de créneaux pour Brest 2016</title>
<link rel="stylesheet" type="text/css" href="styles/angular-growl.css">
<link rel="stylesheet" type="text/css" href="styles/animate.css">
<link rel="stylesheet" type="text/css" href="styles/bootstrap.css">
<link rel="stylesheet" type="text/css" href="styles/animate.css">
<link rel="stylesheet" type="text/css" href="styles/fullcalendar.css">
<link rel="stylesheet" type="text/css" href="styles/brest2016.css">

<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery-ui.js"></script>
<script type="text/javascript" src="js/moment.js"></script>
<script type="text/javascript" src="js/angular.js"></script>
<script type="text/javascript" src="js/calendar.js"></script>
<script type="text/javascript" src="js/fullcalendar.js"></script>
<script type="text/javascript" src="js/gcal.js"></script>
<script type="text/javascript" src="js/ui-bootstrap-tpls-1.1.2.js"></script>
<script type="text/javascript" src="js/angular-resource.js"></script>
<script type="text/javascript" src="js/angular-spring-data-rest.js"></script>
<script type="text/javascript" src="js/angular-growl.js"></script>
<script type="text/javascript" src="js/angular-sanitize.js"></script>
<script type="text/javascript" src="js/angular-messages.js"></script>
<script type="text/javascript" src="js/angular-dragdrop.js"></script>
<script type="text/javascript" src="brest2016Module.js"></script>
<script type="text/javascript" src="brest2016Factory.js"></script>
<script type="text/javascript" src="Hateoas.js"></script>
<script type="text/javascript" src="brest2016Calendar.js"></script>
<script type="text/javascript" src="brest2016Controller.js"></script>



</head>


<body ng-controller="Brest2016Controller as vm">
	<div data-growl=""></div>
	<div class="collapse navbar-collapse">
		<ul class="nav navbar-nav">
			<li ng-class="{ active: true}"><a href="#">Acceuil</a></li>
			<li ng-class="{ active: false}"><a href="#">Admin</a></li>
		</ul>
	</div>

	<div class="span2 ">
		<div class="btn-group" uib-dropdown>
			<button id="single-button" type="button" class="btn btn-primary"
				uib-dropdown-toggle ng-disabled="disabled">
				Button dropdown
				<span class="caret"></span>
			</button>
			<ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
				<li role="menuitem"><a href="#">Action</a></li>
				<li role="menuitem"><a href="#">Another action</a></li>
				<li role="menuitem"><a href="#">Something else here</a></li>
				<li class="divider"></li>
				<li role="menuitem"><a href="#">Separated link</a></li>
			</ul>

			<form class="form-horizontal" role="form" name="create_moyen_form"
				ng-submit="moyen_a_creer = vm.hateoas.moyens.create(moyen_a_creer)">
				<label class="control-label">Moyen</label> nom :<input type="text"
					ng-model="moyen_a_creer.nom" />
				<button class="btn btn-primary">Add</button>
			</form>

			<div ng-show="vm.hateoas.moyens.list.length">
				<h4>liste des moyens</h4>
				A deployer par drag & drop sur le calendrier

				<div ng-repeat="moyen in vm.hateoas.moyens.list">
					<div class="btn btn-default btn-sm" data-drag="true"
						data-event="{{moyen}}" 
						data-jqyoui-options="{revert: true}" jqyoui-draggable>{{moyen.nom}}
					</div>

				</div>
			</div>

			<span data-event="{{vm.testdrag}}" data-drag="true"
				data-jqyoui-options="{revert: true}" jqyoui-draggable
				placeholder="false">So you think you can drag</span>
		</div>
	</div>

	<div class="main">
		<div class="container">
			<div class="row">



				<div class="span10">


					
					<div class="calendar" ui-calendar="vm.calendar.config.calendar"
						ng-model="vm.calendar.eventSources"
						
						calendar="{{vm.calendar.name}}"></div>


					<div ng-show="vm.hateoas.activites.list.length">
						liste des stands
						<div ng-repeat="activite in vm.hateoas.activites.list">
							<li>nom: {{activite.nom}} lieu: {{activite.lieu}} <span
									ng-click="vm.calendar.addActivite(activite)"> vers
									agenda </span>
							</li>
						</div>
					</div>

					<div>
						<form class="form-horizontal" role="form"
							name="create_activite_form"
							ng-submit="activite_a_creer = vm.hateoas.activites.create(activite_a_creer)">
							<label class="control-label">Activite</label> nom :<input
								type="text" ng-model="activite_a_creer.nom" minlength="2"
								maxlength="15" />
							<div ng-messages="create_activite_form.nom.$error"
								ng-if='create_activite_form.nom.$dirty'>
								<div ng-message="minlength">au moins 2 caractères</div>
								<div ng-message="maxlength">au plus 15 caractères</div>
							</div>
							lieu : <input type="text" ng-model="activite_a_creer.lieu" />
							debut : <input type="text" ng-model="activite_a_creer.datedebut" />
							fin :<input type="text" ng-model="activite_a_creer.datefin" />
							<button class="btn btn-primary">Add</button>
						</form>

						<div ng-show="vm.hateoas.activites.list.length">
							liste des stands
							<div ng-repeat="activite in vm.hateoas.activites.list">
								<li>nom: {{activite.nom}} lieu: {{activite.lieu}} <span
										remove-on-click
										ng-click="vm.hateoas.activites.remove(activite)">
										supprimer </span> <!-- 						<span ng-repeat="horaire in vm.hateoas.horaires.list"> -->
									<!-- 						<label>{{horaire.plage}} <input type="checkbox" -->
									<!-- 							ng-model-options="{getterSetter: true}" --> <!-- 							ng-model="vm.hateoas.stands.getterSetterRelation(stand, horaire)" /> -->
									<!-- 						</label> --> <!-- 					</span> -->
								</li>
							</div>
						</div>

						<form class="form-horizontal" role="form"
							ng-submit="visiteur_a_creer = vm.hateoas.visiteurs.create(visiteur_a_creer)">
							<label class="control-label">Visiteur</label> <input type="text"
								ng-model="visiteur_a_creer.prenom" /> <input type="text"
								ng-model="visiteur_a_creer.nom" /> <input type="text"
								ng-model="visiteur_a_creer.password" />
							<button class="btn btn-primary">Add</button>
						</form>



						<div ng-show="vm.hateoas.visiteurs.list.length">
							liste des visiteurs
							<div ng-repeat="visiteur in vm.hateoas.visiteurs.list">
								<li>{{visiteur.prenom}} {{visiteur.nom}} <span
										remove-on-click
										ng-click="vm.hateoas.visiteurs.remove(visiteur)">
										supprimer </span> <span
										ng_click="activites = vm.hateoas.visiteurs.getRelations(visiteur, 'activite')">activite</span>
									<div ng-repeat="activite in activites">{{activite}}</div>
								</li>
							</div>
						</div>



						<form class="form-horizontal" role="form"
							ng-submit="vm.hateoas.visiteurs.addRelation(visiteur, activite)">
							<select ng-model="visiteur"
								ng-options="visiteur.prenom for visiteur in vm.hateoas.visiteurs.list"></select>
							<select ng-model="activite"
								ng-options="activite for activite in vm.hateoas.activites.list"></select>
							</select>
							<button class="btn btn-primary">Inscrire</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
